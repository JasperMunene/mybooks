<%- include('partials/header.ejs'); -%>

<div class="album py-5 bg-body-tertiary color" data-bs-theme="dark">
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      <% if (books && books.length > 0) { %>
        <% books.forEach((book) => { %>
          <div class="col">
            <div class="card shadow-sm">
              <% if (book.cover_image_url) { %>
                <img src="<%= book.cover_image_url %>" class="bd-placeholder-img card-img-top" alt="Book Cover">
              <% } else { %>
                <div class="placeholder-image"></div>
              <% } %>
              <div class="card-body">
                <h2 class="card-title"><%= book.title %></h2>
                <p class="card-text">Author: <%= book.author %></p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <!-- Add a link to view notes for each book -->
                    <a href="/notes/<%= book.book_id %>" class="btn btn-sm btn-outline-secondary">View Notes</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      <% } else { %>
        <p>No books found.</p>
      <% } %>
    </div>
  </div>
</div>

<%- include('partials/footer.ejs'); -%>
